<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Test Page</title>
        <link rel="stylesheet" type="text/css" href="ARstyle.css" />

        <script src="../../../assets/lib/AR.js-master/aframe/examples/vendor/aframe/build/aframe.js"></script>
        <script src="../../../assets/lib/AR.js-master/aframe/build/aframe-ar.js"></script>
    </head>
    <body style='margin : 0px; overflow: hidden;'>
        <a-scene embedded artoolkit='sourceType: webcam;'>
            <a-assets>
                <video src="./fire.ogv" class="video" id="fire1video" loop="true"></video>
                <video src="./fire.ogv" class="video" id="fire2video" loop="true"></video>
                <video src="./fire.ogv" class="video" id="fire3video" loop="true"></video>
                <video src="./fire.ogv" class="video" id="fire4video" loop="true"></video>
            </a-assets>
            <a-marker preset='hiro'>

                <a-entity>
                    <a-tetrahedron src='#fire1video' radius="0.5" material="opacity: 0.9" position="-2 0.5 0">
                        <a-animation attribute="rotation"
                                     dur="3000"
                                     to="0 360 -360"
                                     easing= "linear"
                                     repeat="indefinite">
                        </a-animation>
                    </a-tetrahedron>
                </a-entity>

                <a-entity>
                    <a-tetrahedron src='#fire2video' radius="0.5" material="opacity: 0.9" position="0 2 1">
                        <a-animation attribute="rotation"
                                     dur="2000"
                                     to="360 360 360"
                                     easing= "linear"
                                     repeat="indefinite">
                        </a-animation>
                    </a-tetrahedron>
                </a-entity>

                <a-entity>
                    <a-tetrahedron src='#fire3video' radius="0.5" material="opacity: 0.9" position="0 1 2">
                        <a-animation attribute="rotation"
                                     dur="2500"
                                     to="0 360 0"
                                     easing= "linear"
                                     repeat="indefinite">
                        </a-animation>
                    </a-tetrahedron>
                </a-entity>

                <a-entity>
                    <a-tetrahedron id="fire4" src='#fire4video' radius="0.5" material="opacity: 0.9" position="2 0.5 0">
                        <a-animation attribute="rotation"
                                     dur="4000"
                                     to="-360 -360 -360"
                                     easing= "linear"
                                     repeat="indefinite">
                        </a-animation>
                    </a-tetrahedron>
                </a-entity>
            </a-marker>
        </a-scene>

        <script>

            var videos = document.querySelectorAll(".video");

            for (i=0; i<videos.length; i++) {
                (function(i) {
                    window.addEventListener("load", function () {
                        videos[i].currentTime = 1000;
                        videos[i].play();
                        setInterval(function () {
                            videos[i].currentTime = 1000;
                        }, 4000);
                    });
                })(i)
            };
        </script>

    </body>
</html>