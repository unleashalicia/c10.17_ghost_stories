<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Finale Test</title>
    <link rel="stylesheet" type="text/css" href="ARstyle.css" />

    <script src="../../../assets/lib/aframe.min.js"></script>
</head>
<body id="newSpheres" style='margin : 0px; overflow: hidden;'>


<!--<a-scene>-->
    <!--<a-sky color="grey"></a-sky>-->
    <!--<a-sphere radius="1" position="0 2 -5" color="white" color-on-timeout="red">-->

    <!--</a-sphere>-->
<!--</a-scene>-->

<script>

    function setAttributes(el, attributeObj) {

        for (let item in attributeObj){
            el.setAttribute(item, attributeObj[item]);
            console.log(item, attributeObj[item]);
        }
    }

    var body = document.getElementsByTagName('BODY')[0];
    var sceneEl = document.createElement('a-scene');
    body.appendChild(sceneEl);

    var skyEl = document.createElement('a-sky');
    skyEl.setAttribute('color', 'gray');
    sceneEl.appendChild(skyEl);

    var entityEl = document.createElement('a-entity');
    var sphereEl = document.createElement('a-sphere');
    var animationAttr = document.createElement('a-animation');
    sphereEl.setAttribute('material', 'color', 'white');

    var sphereAttr = {
        'radius': '1',
        'position': '-2 2 -5'
    };

    setAttributes(sphereEl, sphereAttr);
//    setAttributes(animationAttr, ['attribute', 'position', 'dur', '3000', 'from', '-2 2 -5', 'to', '2 2 -5', 'direction', 'alternate-reverse', 'easing', 'ease-in-out-circ', 'repeat', 'indefinite']);




    sceneEl.appendChild(entityEl);
    entityEl.appendChild(sphereEl);
//    sphereEl.appendChild(animationAttr);

    var changeColor = (function(el, milliseconds, colorArr, frequency){
        for (var i=0; i<frequency; i++) {
            setTimeout(function () {
                el.setAttribute('color', colorArr[Math.floor(Math.random() * colorArr.length)]);
            }, milliseconds);
        }
    })();

    colors = ["blue", "white", "red", "yellow", "green"];

    changeColor(sphereEl, 2000, colors, 10);


//    var d = document.createElement('div');
//    d.setAttributes({
//        'id':'my_div',
//        'class':'my_class',
//        'styles':{
//            'backgroundColor':'blue',
//            'color':'red'
//        },
//        'html':'lol'
//    });


//    window.addEventListener("load", function () {
//        createSpheres(50);
//    });
//
//    const findRange = (start,end) => {
//        return (Math.random() * (end-start) ) + start;
//    };
//
//
//
//    const createSpheres = (amount) => {
//        const scene = document.querySelector('a-scene');
////        const colorArray = ["blue", "red", "purple", "yellow", "green", "black", "orange"];
//        const colorArray = ["green"];
//
//
//
//
//        for (let creator=0; creator<amount; creator++){
//            let entity = document.createElement('a-entity');
//            let sphere = document.createElement('a-sphere');
//            let animation = document.createElement('a-animation');
//
//            let color = colorArray[Math.floor(Math.random()*colorArray.length)];
//            let size = findRange(0.5, 6);
//
//            let posX = findRange(-7, 7);
//            let posXdest = findRange(-7,7);
//
//            let posY = findRange(-7, 7);
//            let posYdest = findRange(-7, 7);
//
//            let posZ = -5;
//
//            let dur = findRange(1000, 10000);
//
//
//
//
////            entity.setAttribute('position', {x: posX, y: posY, z: posZ});
//
//            sphere.setAttribute('material', 'color', color);
//
//            sphere.setAttribute('scale', 'radius', size);
//
////            animation.setAttribute('attribute', 'scale');
////            animation.setAttribute('from', '0.5');
////            animation.setAttribute('to', '4');
//
//            animation.setAttribute('attribute', 'position');
//            animation.setAttribute('dur', dur);
//            animation.setAttribute('from', '0' + ' ' + '1.5' + ' -5');
//            animation.setAttribute('to', posXdest + ' ' + posYdest + ' -5');
//            animation.setAttribute('direction', 'alternate-reverse');
//            animation.setAttribute('easing', 'ease-in-out-circ');
//            animation.setAttribute('repeat', 'indefinite');
//
////            posZ = posZ-2;
//
//            entity.appendChild(animation);
//            entity.appendChild(sphere);
//            scene.appendChild(entity);
//
//
//
//        }
//    }




    //var sphereEl = document.createElement('a-sphere');
    //sphereEl.setAttribute('radius', 0.5);
    //sphereEl.setAttribute('material', 'color', 'blue');
    //sphereEl.setAttribute('position', {x: 0, y: 1, z:-5});
    //document.querySelector('a-scene').appendChild(sphereEl);
    //sphereEl.addEventListener('loaded', function () {
    //    console.log('sphere attached');
    //});


</script>

</body>
</html>